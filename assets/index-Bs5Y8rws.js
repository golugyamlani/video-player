import{j as p,P as R}from"./player-Qcu1PBEA.js";import{a as A,r as s}from"./vendor-D88IX_79.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const a of t.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function l(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function n(e){if(e.ep)return;e.ep=!0;const t=l(e);fetch(e.href,t)}})();var w,h=A;w=h.createRoot,h.hydrateRoot;function b(){const i=s.useRef(null),o=s.useRef(null),l=s.useRef(!1),n=new URLSearchParams(window.location.search),e=n.get("video")||"https://cdn.plyr.io/static/demo/View_From_A_Blue_Moon_Trailer-576p.mp4",t=n.get("adTag")||"",a={clickToPlay:!1,autoplay:!0,muted:!0,controls:["play-large","play","progress","current-time","duration","mute","volume","settings","fullscreen"],settings:["quality","speed"],loadSprite:!0,iconUrl:"https://cdn.plyr.io/3.7.8/plyr.svg",blankVideo:"https://cdn.plyr.io/static/blank.mp4",ads:{enabled:!!t,publisherId:"",tagUrl:t,autoplay:!0,adsRenderingSettings:{enablePreloading:!0,useStyledNonLinearAds:!0,useStyledLinearAds:!0,bitrate:-1,loadVideoTimeout:8e3}}},v={type:"video",sources:[{src:e,type:"video/mp4",size:576}]};return s.useEffect(()=>{const c=()=>{var f,m,g,y;if(!t||l.current)return;const r=new window.google.ima.AdDisplayContainer(o.current,(m=(f=i.current)==null?void 0:f.plyr)==null?void 0:m.media);r.initialize();const d=new window.google.ima.AdsLoader(r),u=new window.google.ima.AdsRequest;u.adTagUrl=t,u.linearAdSlotWidth=((g=o.current)==null?void 0:g.offsetWidth)||640,u.linearAdSlotHeight=((y=o.current)==null?void 0:y.offsetHeight)||360,d.requestAds(u),l.current=!0};if(window.google&&window.google.ima)c();else{const r=document.createElement("script");r.src="//imasdk.googleapis.com/js/sdkloader/ima3.js",r.onload=c,document.head.appendChild(r)}},[t]),s.useEffect(()=>{const c=setTimeout(()=>{var r,d;(d=(r=i.current)==null?void 0:r.plyr)!=null&&d.media&&i.current.plyr.media.play().catch(console.error)},100);return()=>clearTimeout(c)},[]),p.jsx("div",{ref:o,className:"w-full h-full bg-black",children:p.jsx(R,{ref:i,source:v,options:a})})}w(document.getElementById("root")).render(p.jsx(s.StrictMode,{children:p.jsx(b,{})}));
